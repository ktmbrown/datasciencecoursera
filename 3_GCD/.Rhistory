sampleTimes = index(amzn)
View(amzn)
sampleTimes
table(grepl("2012", sampleTimes))
days <- format(sampleTimes,%a)
days <- format(sampleTimes,"%a")
table(grepl("Mon",days))
grep("2012",sampleTims)
grep("2012",sampleTimes)
dates_2012 <- grep("2012",sampleTimes)
days <- format(dates_2012,"%a")
dates_2012 <- grep("2012",sampleTimes)
dates_2012
table(grepl("2012", sampleTimes))
dates_2012 <- sampleTimes[grep("2012",sampleTimes)]
days <- format(dates_2012,"%a")
mon_2012 <- table(grepl("Mon"),days)
mon_2012 <- table(grepl("Mon",days))
table(grepl("Mon",days))
?unzip
getw()
getwd()
# Getting data from website
if(!file.exists("./data")){dir.creat("./data")}
url <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip'
download.file(url, destfile = './data/activity.zip',method='curl' )
unzip('./data/activity.zip')
unzip('./data/activity.zip',expDir='./data')
unzip('./data/activity.zip',exdir = './data')
getwd()
setwd("/Users/katiebrown/Documents/DS/datasciencecoursera/")
test <- read.csv("test.csv")
View(test)
names(test)
head(test$Activity,30)
unzip('./data/activity.zip',exdir = './data')
# Getting data from website
if(!file.exists("./data")){dir.creat("./data")}
url <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip'
download.file(url, destfile = './data/activity.zip',method='curl' )
unzip('./data/activity.zip',exdir = './data')
?file.rename
getwd()
setwd("/Users/katiebrown/Documents/DS/datasciencecoursera/3_GCD")
unzip('./data/activity.zip',exdir = './data')
file.rename('./data/UCI_HAR_Dataset','./data/UCI')
file.rename('./data/UCI_HAR_Dataset/','./data/UCI/')
file.rename('./data/UCI HAR Dataset/','./data/UCI/')
x_test <- read.delim(file, sep = "\t")
# read in x_test
file <- './data/UCI/X_test.txt'
x_test <- read.delim(file, sep = "\t")
# read in x_test
file <- './data/UCI/test/X_test.txt'
x_test <- read.delim(file, sep = "\t")
View(x_test)
file <- './data/UCI/test/X_test.txt'
x_test <- read.delim(file, sep = " ")
View(x_test)
x_test <- read.lines(file)
x_test <- readlines(file)
x_test <- readLines(file)
head(x_test)
x_test <- read.csv(file)
x_test <- read.csv(file)
View(x_test)
x_test <- read.delim(file, sep='\t')
View(x_test)
x_test <- read.delim(file, sep='\t',header=FALSE)
View(x_test)
?strsplit
x_test <- trim(x_test)
# read in x_test
# library(stringr)
file <- './data/UCI/test/X_test.txt'
# read in x_test
library(stringr)
x_test <- str_trim(x_test)
View(test)
strsplit(x_text, " ")
x_test <- read.delim(file, sep='\t',header=FALSE)
x_test2 <- strsplit(x_test, " ")
x_test2 <- strsplit(x_test, ' ')
x_test2 <- strsplit(x_test, '\s')
x_test2 <- strsplit(x_test, " (?=[^ ]+$)")
View(x_test)
View(test)
x_test <- read.fwf(file,widths=c(15,15,15,15,15))
View(x_test)
x_test <- read.fwf(file,widths=c(16,16,16,16,16))
View(x_test)
class(x_test$V2)
file2 <- './data/UCI/test/y_test.txt'
file2
x_labels <- read.fwf(file,widths=x(1))
x_labels <- read.fwf(file,widths=c(1))
View(x_labels)
x_labels <- read.fwf(file2 ,widths=c(1))
View(x_labels)
class(x_labels)
class(x_labels$V1)
x_labels <- as.factor(x_labels$V1)
levels(x_labels) <- c('WALKING','WALKING_UPSTAIRS','WALKING_DOWNSTAIRS',
'SITTING','STANDING','LAYING')
class(x_labels)
levels(x_labels)
x_labels
Activity <- as.factor(x_labels$V1)
levels(Activity) <- c('WALKING','WALKING_UPSTAIRS','WALKING_DOWNSTAIRS',
'SITTING','STANDING','LAYING')
x_labels <- as.factor(x_labels$V1)
Activity <- x_labels
x_df <- cbind(x_test,Activity)
View(x_df)
x_df[33,2]
if(!file.exists("./data")){dir.creat("./data")}
url <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip'
download.file(url, destfile = './data/activity.zip',method='curl' )
unzip('./data/activity.zip',exdir = './data')
file.rename('./data/UCI HAR Dataset/','./data/UCI/')
library(stringr)
file <- './data/UCI/test/X_test.txt'
file2 <- './data/UCI/test/y_test.txt'
x_test <- read.fwf(file,widths=c(15,15,15,15,15))
x_labels <- read.fwf(file2,widths=c(1))
x_labels <- as.factor(x_labels$V1)
Activity <- x_labels
x_df <- cbind(x_test,Activity)
View(x_df)
level(Activity) <- c('WALKING','WALKING_UPSTAIRS','WALKING_DOWNSTAIRS',
'SITTING','STANDING', 'LAYING')
levels(Activity) <- c('WALKING','WALKING_UPSTAIRS','WALKING_DOWNSTAIRS',
'SITTING','STANDING', 'LAYING')
Activity<- read.fwf(file2,widths=c(1))
Activity<- read.fwf(file2,widths=c(1)) <- as.factor()
Activity<- read.fwf(file2,widths=c(1)) %>% as.factor()
levels(Activity) <- c('WALKING','WALKING_UPSTAIRS','WALKING_DOWNSTAIRS',
'SITTING','STANDING', 'LAYING')
x_df <- cbind(x_test,Activity)
View(x_df)
Activity<- read.fwf(file2,widths=c(1)) %>% as.factor()
Activity<- read.fwf(file2,widths=c(1))
Activity <- as.factor(Activity)
Activity<- read.fwf(file2,widths=c(1))
Activity <- as.factor(Activity$V1)
levels(Activity) <- c('WALKING','WALKING_UPSTAIRS','WALKING_DOWNSTAIRS',
'SITTING','STANDING', 'LAYING')
x_df <- cbind(x_test,Activity)
head(x_df)
file <- './data/UCI/test/X_train.txt'
file2 <- './data/UCI/test/y_train.txt'
x_train <- read.fwf(file,widths=c(15,15,15,15,15))
Activity_train<- read.fwf(file2,widths=c(1))
Activity_train <- as.factor(Activity_train$V1)
levels(Activity_train) <- c('WALKING','WALKING_UPSTAIRS','WALKING_DOWNSTAIRS',
'SITTING','STANDING', 'LAYING')
x_df_train <- cbind(x_train,Activity_train)
# read in x_train
file <- './data/UCI/test/X_train.txt'
file2 <- './data/UCI/test/y_train.txt'
x_train <- read.fwf(file,widths=c(15,15,15,15,15))
# read in x_train
file <- './data/UCI/train/X_train.txt'
file2 <- './data/UCI/train/y_train.txt'
x_train <- read.fwf(file,widths=c(15,15,15,15,15))
Activity_train<- read.fwf(file2,widths=c(1))
Activity_train <- as.factor(Activity_train$V1)
levels(Activity_train) <- c('WALKING','WALKING_UPSTAIRS','WALKING_DOWNSTAIRS',
'SITTING','STANDING', 'LAYING')
x_df_train <- cbind(x_train,Activity_train)
head(x_df_train)
View(x_train)
View(x_test)
# read in x_test
library(stringr)
file <- './data/UCI/test/X_test.txt'
file2 <- './data/UCI/test/y_test.txt'
x_test <- read.fwf(file,widths=c(16,16,16,16,16))
Activity<- read.fwf(file2,widths=c(1))
Activity <- as.factor(Activity$V1)
levels(Activity) <- c('WALKING','WALKING_UPSTAIRS','WALKING_DOWNSTAIRS',
'SITTING','STANDING', 'LAYING')
x_df <- cbind(x_test,Activity)
head(x_df)
# read in x_train
file <- './data/UCI/train/X_train.txt'
file2 <- './data/UCI/train/y_train.txt'
x_train <- read.fwf(file,widths=c(16,16,16,16,16,16))
Activity_train<- read.fwf(file2,widths=c(1))
Activity_train <- as.factor(Activity_train$V1)
levels(Activity_train) <- c('WALKING','WALKING_UPSTAIRS','WALKING_DOWNSTAIRS',
'SITTING','STANDING', 'LAYING')
x_df_train <- cbind(x_train,Activity_train)
head(x_df_train)
# read in x_test
library(stringr)
file <- './data/UCI/test/X_test.txt'
file2 <- './data/UCI/test/y_test.txt'
test <- read.fwf(file,widths=c(16,16,16,16,16))
Activity<- read.fwf(file2,widths=c(1))
Activity <- as.factor(Activity$V1)
levels(Activity) <- c('WALKING','WALKING_UPSTAIRS','WALKING_DOWNSTAIRS',
'SITTING','STANDING', 'LAYING')
test_df <- cbind(x_test,Activity)
head(test_df)
# read in x_train
file <- './data/UCI/train/X_train.txt'
file2 <- './data/UCI/train/y_train.txt'
train <- read.fwf(file,widths=c(16,16,16,16,16,16))
Activity_train<- read.fwf(file2,widths=c(1))
Activity_train <- as.factor(Activity_train$V1)
levels(Activity_train) <- c('WALKING','WALKING_UPSTAIRS','WALKING_DOWNSTAIRS',
'SITTING','STANDING', 'LAYING')
train_df <- cbind(x_train,Activity_train)
head(train_df)
View(test_df)
library(stringr)
ActivityLabels <- read.csv(al_file,sep=' ')
al_file <- './data/UCI/activity_labels.txt'
ActivityLabels <- read.csv(al_file,sep=' ')
View(ActivityLabels)
ActivityLabels <- read.csv(al_file,sep=' ',header = FALSE)
View(ActivityLabels)
names(ActivityLabels) <- c('ActivityNumber', 'Activity')
View(ActivityLabels)
ActivityLabels <- ActivityLabels[,2]
ActivityLabels <- read.csv(al_file,sep=' ',header = FALSE)
ActivityLabels <- ActivityLabels$V2
ActivityLabels <- read.csv(al_file,sep=' ',header = FALSE)
names(ActivityLabels) <- c('ActivityNum','Activity')
ActivityLabels
# reading in Features
feat_file <- './data/UCI/features.txt'
Features <- read.csv(feat_file,sep=' ', header = FALSE)
View(Features)
names(Features) <- c('FeatureNum', 'Feature')
tail(Features)
#  reading in test subjects
sub_test_file <- './data/UCI/test/subject_test.txt'
Subjects_test <- read.csv(sub_test_file,sep=' ', header=FALSE)
head(Subjects_test
)
names(Subjects_test) <- c('Subject')
head(Subjects_test)
# reading in train subjects
sub_train_file <- './data/UCI/train/subject_train.txt'
Subjects_test <- read.csv(sub_train_file,sep=' ', header=FALSE)
# reading in train subjects
sub_train_file <- './data/UCI/train/subject_train.txt'
Subjects_train <- read.csv(sub_train_file,sep=' ', header=FALSE)
names(Subjects_train) <- c('Subject')
Subjects_test <- read.csv(sub_test_file,sep=' ', header=FALSE)
names(Subjects_test) <- c('Subject')
Features[head]
head[Features]
head(Features\)
head(Features)
head(Features,20)
head(Features,50)
tail(Features)
tail(Features,20)
# reading in test body_acc data
bod_acc_x_test_file <- './data/UCI/test/Inertial Signals/body_acc_x_test.txt/.txt'
Subjects_train <- read.csv(bod_acc_x_test_file,sep=' ', header=FALSE)
# reading in test body_acc data
bod_acc_x_test_file <- './data/UCI/test/Inertial Signals/body_acc_x_test.txt'
Subjects_train <- read.csv(bod_acc_x_test_file,sep=' ', header=FALSE)
Subjects_train <- read.csv(sub_train_file,sep=' ', header=FALSE)
names(Subjects_train) <- c('Subject')
BodyAccX_test <- read.csv(bod_acc_x_test_file,sep=' ', header=FALSE)
View(BodyAccX_test)
View(test_df)
View(test)
BodyAccX_test <- readLines(bod_acc_x_test_file)
BodyAccX_test <- read.table(bod_acc_x_test_file,sep = " ")
# reading in test body_acc data
bod_acc_x_test_file <- './data/UCI/test/Inertial Signals/body_acc_x_test.txt'
BodyAccX_test <- read.table(bod_acc_x_test_file,sep = " ")
BodyAccX_test <- read.table(bod_acc_x_test_file,sep = " ",header = FALSE)
# reading in test body_acc data
bod_acc_x_test_file <- './data/UCI/test/Inertial Signals/body_acc_x_test.txt'
BodyAccX_test <- read.table(bod_acc_x_test_file,fill=T,header = FALSE)
View(BodyAccX_test)
# reading in Features
feat_file <- './data/UCI/features.txt'
Features <- read.table(feat_file, header = FALSE,fill=T)
names(Features) <- c('FeatureNum', 'Feature')
tail(Features)
# reading in Activity Labels
al_file <- './data/UCI/activity_labels.txt'
ActivityLabels <- read.table(al_file,fill=T,header = FALSE)
names(ActivityLabels) <- c('ActivityNum','Activity')
#  reading in test subject data
sub_test_file <- './data/UCI/test/subject_test.txt'
Subjects_test <- read.table(sub_test_file,fill=T,header = FALSE)
names(Subjects_test) <- c('Subject')
# reading in train subject data
sub_train_file <- './data/UCI/train/subject_train.txt'
Subjects_train <- read.table(sub_train_file,fill=T,header = FALSE)
names(Subjects_train) <- c('Subject')
head(BodyAccX_test)
mean(BodyAccX_test[1,])
mean(BodyAccX_test[1,],na.rm = TRUE)
class(BodyAccX_test$V1)
rowMeans(BodyAccX_test, na.rm = FALSE)
t-m <- rowMeans(BodyAccX_test, na.rm = FALSE)
t_means <- rowMeans(BodyAccX_test, na.rm = FALSE)
grep(0.25717778,t_means)
Features
# reading in test data
test_file <- './data/UCI/test/X_test.txt'
test <- read.table(test_file,fill=T,header = FALSE)
head(test)
names(test) <- Features$Feature
names(test)
# reading in Activity Labels
activity_file <- './data/UCI/activity_labels.txt'
ActivityLabels <- read.table(activity_file,fill=T,header = FALSE)
names(ActivityLabels) <- c('ActivityNum','Activity')
# reading in Features
feat_file <- './data/UCI/features.txt'
Features <- read.table(feat_file, header = FALSE,fill=T)
names(Features) <- c('FeatureNum', 'Feature')
Activity <- read.table(act_test_file,fill=T,header = FALSE)
# reading in activity vector for test data
act_test_file <- './data/UCI/test/y_test.txt'
Activity <- read.table(act_test_file,fill=T,header = FALSE)
names(Activity) <- c('Activity')
Activity$Activity <- as.factor(Activity$Activity)
head(Activity)
library(dplyr)
rneame
?rename
?revalue
x <- factor(ActivityLabels$Activity)
x
levels(Activity$Activity) <- x
head(Activity)
levels(Activity$Activity) <- factor(ActivityLabels$Activity
levels(Activity$Activity) <- factor(ActivityLabels$Activity)
levels(Activity$Activity) <- factor(ActivityLabels$Activity)
head(Activity)
#  reading in test subject data
sub_test_file <- './data/UCI/test/subject_test.txt'
Subjects_test <- read.table(sub_test_file,fill=T,header = FALSE)
names(Subjects_test) <- c('Subject')
# combining all columns for test data
test_df <- cbind(test,Subjects_test$Subject,Activity$Activity)
# reading in activity vector for test data
act_test_file <- './data/UCI/test/y_test.txt'
# reading in test data
test_file <- './data/UCI/test/X_test.txt'
test <- read.table(test_file,fill=T,header = FALSE)
names(test) <- Features$Feature
Activity <- read.table(act_test_file,fill=T,header = FALSE)
names(Activity) <- c('Activity')
Activity$Activity <- as.factor(Activity$Activity)
levels(Activity$Activity) <- factor(ActivityLabels$Activity)
# combining all columns for test data
test_df <- cbind(test,Subjects_test$Subject,Activity$Activity)
head(test_df
)
# reading in activity vector for test data
act_test_file <- './data/UCI/test/y_test.txt'
Activity_data <- read.table(act_test_file,fill=T,header = FALSE)
names(Activity_data) <- c('Activity')
Activity <- as.factor(Activity_data$Activity)
levels(Activity$Activity) <- factor(ActivityLabels$Activity)
levels(Activity) <- factor(ActivityLabels$Activity)
names(Subjects_test) <- c('Subject')
Subjects <- Subjects_test$Subject
View(test_df)
# combining all columns for test data
test_df <- cbind(test,Subjects,Activity)
head(test_df)
names(Subjects_train) <- c('Subject')
Subjects_train <- read.table(sub_train_file,fill=T,header = FALSE)
names(Subjects_train) <- c('Subject')
Subjects.1 <- Subjects_train$Subject
# reading in train subject data
sub_train_file <- './data/UCI/train/subject_train.txt'
Subjects_train <- read.table(sub_train_file,fill=T,header = FALSE)
names(Subjects_train) <- c('Subject')
Subjects.1 <- Subjects_train$Subject
# reading in train data
train_file <- './data/UCI/train/X_train.txt'
train <- read.table(train_file,fill=T,header = FALSE)
names(train) <- Features$Feature
# reading in activity vector for train data
act_train_file <- './data/UCI/train/y_train.txt'
Activity_data.1 <- read.table(act_train_file,fill=T,header = FALSE)
names(Activity_data.1) <- c('Activity')
Activity.1 <- as.factor(Activity_data.1$Activity)
levels(Activity.1) <- factor(ActivityLabels$Activity)
# combining all columns for test data
train_df <- cbind(train,Subjects.1,Activity.1)
View(train_df)
head(train_df)
names(train_df) <- c(Features$Feature,'Subject','Activity')
head(train_df)
Features$Feature
# reading in Features
feat_file <- './data/UCI/features.txt'
Features <- read.table(feat_file, header = FALSE,fill=T, stringsAsFactors = FALSE)
names(Features) <- c('FeatureNum', 'Feature')
# reading in test data
test_file <- './data/UCI/test/X_test.txt'
test <- read.table(test_file,fill=T,header = FALSE)
names(test) <- Features$Feature
# reading in activity vector for test data
act_test_file <- './data/UCI/test/y_test.txt'
Activity_data <- read.table(act_test_file,fill=T,header = FALSE)
names(Activity_data) <- c('Activity')
Activity <- as.factor(Activity_data$Activity)
levels(Activity) <- factor(ActivityLabels$Activity)
# combining all columns for test data
test_df <- cbind(test,Subjects,Activity)
names(test_df) <- c(Features$Feature,'Subject','Activity')
head(test_df)
View(test_df)
# combining all columns for test data
train_df <- cbind(train,Subjects.1,Activity.1)
names(train_df) <- c(Features$Feature,'Subject','Activity')
View(train_df)
names(train_df)
sub_test_file <- './data/UCI/test/subject_test.txt'
Subjects_test <- read.table(sub_test_file,fill=T,header = FALSE)
names(Subjects_test) <- c('Subject')
Subjects <- Subjects_test$Subject
# reading in test data
test_file <- './data/UCI/test/X_test.txt'
test <- read.table(test_file,fill=T,header = FALSE)
# reading in activity vector for test data
act_test_file <- './data/UCI/test/y_test.txt'
Activity_data <- read.table(act_test_file,fill=T,header = FALSE)
names(Activity_data) <- c('Activity')
Activity <- as.factor(Activity_data$Activity)
levels(Activity) <- factor(ActivityLabels$Activity)
# combining all columns for test data
test_df <- cbind(test,Subjects,Activity)
names(test_df) <- c(Features$Feature,'Subject','Activity')
# reading in Activity Labels
activity_file <- './data/UCI/activity_labels.txt'
ActivityLabels <- read.table(activity_file,fill=T,header = FALSE)
names(ActivityLabels) <- c('ActivityNum','Activity')
# reading in Features
feat_file <- './data/UCI/features.txt'
Features <- read.table(feat_file, header = FALSE,fill=T, stringsAsFactors = FALSE)
names(Features) <- c('FeatureNum', 'Feature')
#--------------------------- READING TEST DATA --------------------------------#
#  reading in test subject data
sub_test_file <- './data/UCI/test/subject_test.txt'
Subjects_test <- read.table(sub_test_file,fill=T,header = FALSE)
names(Subjects_test) <- c('Subject')
Subjects <- Subjects_test$Subject
# reading in test data
test_file <- './data/UCI/test/X_test.txt'
test <- read.table(test_file,fill=T,header = FALSE)
# reading in activity vector for test data
act_test_file <- './data/UCI/test/y_test.txt'
Activity_data <- read.table(act_test_file,fill=T,header = FALSE)
names(Activity_data) <- c('Activity')
Activity <- as.factor(Activity_data$Activity)
levels(Activity) <- factor(ActivityLabels$Activity)
# combining all columns for test data
test_df <- cbind(test,Subjects,Activity)
names(test_df) <- c(Features$Feature,'Subject','Activity')
#--------------------------- READING TRAIN DATA -------------------------------#
# reading in train subject data
sub_train_file <- './data/UCI/train/subject_train.txt'
Subjects_train <- read.table(sub_train_file,fill=T,header = FALSE)
names(Subjects_train) <- c('Subject')
Subjects.1 <- Subjects_train$Subject
# reading in train data
train_file <- './data/UCI/train/X_train.txt'
train <- read.table(train_file,fill=T,header = FALSE)
# reading in activity vector for train data
act_train_file <- './data/UCI/train/y_train.txt'
Activity_data.1 <- read.table(act_train_file,fill=T,header = FALSE)
names(Activity_data.1) <- c('Activity')
Activity.1 <- as.factor(Activity_data.1$Activity)
levels(Activity.1) <- factor(ActivityLabels$Activity)
# combining all columns for test data
train_df <- cbind(train,Subjects.1,Activity.1)
names(train_df) <- c(Features$Feature,'Subject','Activity')
#-------------------------------- TIDY DATA -----------------------------------#
names(train_df)
names(test_df)
tidy_df <- rbind(test_df,train_df)
grep('mean',Features$Feature)
grep('[Mm]ean',Features$Feature)
mean_indicies <- grep('[Mm]ean',Features$Feature)
tidy_df[,mean_indicies]
mean_indicies <- grep('mean()',Features$Feature)
std_indicies <- grep('std()',Features$Feature)
Featurs[mean_indicies]
mean_indices <- grep('mean()',Features$Feature)
std_indices <- grep('std()',Features$Feature)
Features[mean_indices]
Features$Feature[mean_indices]
mean_indices <- grep('mean()',Features$Feature)
std_indices <- grep('std()',Features$Feature)
Features$Feature[mean_indices]
mean_indices <- grep('mean\(\)',Features$Feature)
relevant_indices <- grep('mean|std',Features$Feature)
Features$Feature[relevant_indices]
relevant_indices <- grep('mean[(][)]|std[(][)]',Features$Feature)
Fea
Features$Feature[relevant_indices]
Features$Feature[-c(relevant_indices)]
relevant_df <- tidy_df[,relevant_indices]
head(relevant_df)
